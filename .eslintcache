[{"D:\\react\\react-project\\src\\index.js":"1","D:\\react\\react-project\\src\\App.js":"2","D:\\react\\react-project\\src\\pages\\admin\\admin.jsx":"3","D:\\react\\react-project\\src\\pages\\login\\login.jsx":"4","D:\\react\\react-project\\src\\api\\index.js":"5","D:\\react\\react-project\\src\\api\\ajax.js":"6","D:\\react\\react-project\\src\\utils\\memoryUtils.js":"7"},{"size":187,"mtime":1615882161820,"results":"8","hashOfConfig":"9"},{"size":626,"mtime":1616124027626,"results":"10","hashOfConfig":"9"},{"size":594,"mtime":1616125671818,"results":"11","hashOfConfig":"9"},{"size":3527,"mtime":1616124979498,"results":"12","hashOfConfig":"9"},{"size":503,"mtime":1616124029613,"results":"13","hashOfConfig":"9"},{"size":1194,"mtime":1616121730054,"results":"14","hashOfConfig":"9"},{"size":136,"mtime":1616125185283,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"urp3o4",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\react\\react-project\\src\\index.js",[],["32","33"],"D:\\react\\react-project\\src\\App.js",[],"D:\\react\\react-project\\src\\pages\\admin\\admin.jsx",[],"D:\\react\\react-project\\src\\pages\\login\\login.jsx",["34"],"import React, { Component } from 'react'\r\nimport { Form, Input, Button, message } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\r\nimport './login.less'\r\nimport logo from './images/logo.png'\r\nimport {regLogin} from '../../api'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\n\r\n// 登录的路由组件\r\nexport default class Login extends Component{\r\n  onFinish = async (values) => {\r\n    console.log('Received values of form: ', values);\r\n    const {username, password} = values\r\n    try{\r\n      const res = await regLogin(username, password);\r\n      console.log(\"res\",res);\r\n      const result = res.data;\r\n      if(res.status == 0){  // 登录成功\r\n        message.success('登录成功');\r\n        const user = res.data\r\n        memoryUtils.user = user      // 保存在内存中\r\n\r\n        // 跳转到管理页面(不需要再回退到登录)   这个事在事件回调内的写法\r\n        // 如果需要回退操作，那就需要push进行跳转   \r\n        this.props.history.replace('/');\r\n\r\n      }else{     //登录失败\r\n        message.error(result.msg);\r\n      }\r\n    }catch(err){\r\n      console.log(\"err\",err);\r\n    }\r\n  };\r\n  validatePwd = (rule, value, callback) => {\r\n    // 自定义验证 可拓展\r\n    // callback() 验证通过   callback('xxxx') 验证失败，并指定提示文本\r\n    if(!value){\r\n      callback('密码必须输入')\r\n    }else if(value.length>12){\r\n      callback('密码不能大于12位')\r\n    }else if(value.length<4){\r\n      callback('密码不能小于4位')\r\n    }else if(!/^[a-zA-Z0-9_]+$/.test(value)){\r\n      callback('密码必须是英文数组下划线')\r\n    }else{\r\n      callback()\r\n    }\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"login\">\r\n        <header className=\"login-header\">\r\n          <img src={logo} alt=\"logo\"/>\r\n          <h1>后台管理系统</h1>\r\n        </header>\r\n        <section className=\"login-content\">\r\n          <h2>用户登陆</h2>\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{ remember: true }}\r\n            onFinish={this.onFinish}\r\n          >\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                // 声明式验证：直接使用别人定义好的验证规则进行验证\r\n                { required: true, message: '请输入用户名！' },\r\n                { min: 4, message: '用户名最少4位' },\r\n                { max: 12, message: '用户名最大12位' },\r\n                { pattern: /^[a-zA-Z0-9_]+$/, message: '用户名必须是英文数组下划线' },\r\n                // 正则内的  +  表示最少匹配一位\r\n              ]}\r\n            >\r\n              <Input prefix={<UserOutlined className=\"site-form-item-icon\" style={{opacity:'0.5'}}/>} placeholder=\"Username\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                { validator: this.validatePwd }\r\n              ]} \r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" style={{opacity:'0.5'}}/>}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                登录\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}","D:\\react\\react-project\\src\\api\\index.js",[],"D:\\react\\react-project\\src\\api\\ajax.js",[],"D:\\react\\react-project\\src\\utils\\memoryUtils.js",["35"],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":18,"column":21,"nodeType":"42","messageId":"43","endLine":18,"endColumn":23},{"ruleId":"44","severity":1,"message":"45","line":5,"column":1,"nodeType":"46","endLine":7,"endColumn":2},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]